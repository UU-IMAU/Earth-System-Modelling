This presentation by Sasha Fedorov (NIOZ/UU) is  

+ how to define a transect (here: along the OSNAP buoy line in the north Atlantic at roughly 60 degrees north) in curvilinear ocean grid (here: POP)
+ how to compute heat and salinity flux through the line 
+ how to compute the streamfunction across the line in density coordinates. 

(Matlab) code will follow. 

Note: In the North Atlantic, e.g. along OSNAP, streamfunctions are typically defined in density space, as isopycnals can be quite tilted there. Further south, one might decide to use depth coordinates instead. 

